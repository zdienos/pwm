<div class="continer mt-3">
    <div class="row justify-content-md-center">
        <div class="col-sm-10">

            <div class="card">
                <div class="card-header">
                    <i class="fas fa-book"></i>
                    <h5 id="title" class="flex-center d-inline">Contacts</h5>
                    <button id="get_contacts" class="btn btn-primary btn-sm float-right">
                        <i class="fas fa-spinner fa-spin d-none"></i>
                        GET CONTACTS
                    </button>
                </div>
                <div class="card-body ">

                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead class="thead-dark">
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">No</th>
                                    <th scope="col">Name</th>
                                    <th scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <% for (var i = 0; i < contacts.length;  i++ ) { %>
                                    <% // if(contacts[i].contact.number !== null && contacts[i].contact.name !== undefined){ %>
                                    <tr>
                                        <th scope="row"><%= i+1 %></th>
                                        <td><%= contacts[i].number %>@<%= contacts[i].server %></td>
                                        <td><%= contacts[i].name %></td>
                                        <td>
                                            <button class="btn btn-primary btn-sm">
                                                <i class="fas fa-paper-plane    "></i>
                                                Send Message
                                            </button>
                                        </td>
                                    </tr>
                                    <%  // } %>
                                <% } %>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="card-footer text-muted">
                    <nav aria-label="...">
                        <% if (pages > 0) { %>
                            <ul class="pagination d-flex justify-content-center">

                                <% if (current == 1) { %>
                                    <li class="page-item disabled">
                                        <a class="page-link" href="#" tabindex="-1">First</a>
                                    </li>
                                <% } else { %>
                                    <li class="page-item">
                                        <a class="page-link" href="/contacts?page=1">First</a>
                                    </li>
                                <% } %>

                                <% var i = (Number(current) > 5 ? Number(current) - 4 : 1) %>
                                <% if (i !== 1) { %>
                                    <li class="page-item disabled">
                                        <a class="page-link">...</a>
                                    </li>
                                <% } %>

                                <% for (; i <= (Number(current) + 4) && i <= pages; i++) { %>
                                    <% if (i == current) { %>
                                        <li class="page-item active">
                                            <a class="page-link"><%= i %> <span class="sr-only">(current)</span></a>
                                        </li>
                                    <% } else { %>
                                        <li class="page-item">
                                            <a class="page-link" href="/contacts?page=<%= i %>"><%= i %></a>
                                        </li>
                                    <% } %>
                                    
                                    <% if (i == Number(current) + 4 && i < pages) { %>
                                        <li class="page-item disabled">
                                            <a class="page-link">...</a>
                                        </li>
                                    <% } %>

                                <% } %>

                                <% if (current == pages) { %>
                                    <li class="page-item disabled">
                                        <a class="page-link">Last</a>
                                    </li>
                                <% } else { %>
                                    <li class="page-item">
                                        <a class="page-link" href="/contacts?page=<%= pages %>">Last</a>
                                    </li>
                                <% } %>
                            </ul>
                        <% } %>
                    </nav>

                </div>
            </div>


        </div>
    </div>
</div>